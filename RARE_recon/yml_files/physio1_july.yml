job:
  codespec:
    image: ghcr.io/teresaguallartnaval/rare_tyger:latest
    buffers:
      inputs:
        - input
      outputs:
        - output
    args:
      - python3
      - stream_recon_RARE.py
      - -i
      - $(INPUT_PIPE)
      - -o
      - $(OUTPUT_PIPE) 
      - -r
      - 'cp'
      - -s
      - "[-1,-1,-1,1,1,1,1,1,1000]"
      - -BoFit
      - >
        -6.373944888297519e-06
        + 0.00019938824261391138 * x
        - 0.00013167728330274484 * y
        + 2.4364287372597983e-05 * z
        - 0.0028907664062194608 * (x**2)
        + 0.007655329815631838 * y * x
        + 0.004833008714867514 * z * x
        - 0.007269248705231191 * (y**2)
        + 0.005579098488796589 * z * y
        + 0.004225697587581057 * (z**2)
        - 0.01402067439237065 * (x**3)
        - 0.01158400657551994 * y * (x**2)
        - 0.0058773457262883905 * z * (x**2)
        + 0.004244291102448209 * (y**2) * x
        + 0.0205248151293987 * z * y * x
        - 0.019057927409487967 * (z**2) * x
        + 0.021887667203156314 * (y**3)
        - 0.022845287239288643 * z * (y**2)
        - 0.002504956623655777 * (z**2) * y
        + 0.0011930079548868164 * (z**3)
        + 0.21647250890765712 * (x**4)
        - 0.29700363385002715 * y * (x**3)
        - 0.09143969268447756 * z * (x**3)
        - 0.3260648506982727 * (y**2) * (x**2)
        - 0.1337166012507588 * z * y * (x**2)
        - 0.22314418876586944 * (z**2) * (x**2)
        - 0.48441961353291246 * (y**3) * x
        - 0.2109236272839139 * z * (y**2) * x
        + 0.26910343610878634 * (z**2) * y * x
        - 0.4218640741833863 * (z**3) * x
        + 0.8586277442432948 * (y**4)
        - 0.21688480185846518 * z * (y**3)
        + 0.18101089746566118 * (z**2) * (y**2)
        - 0.19371793077521984 * (z**3) * y
        - 0.12272298502268546 * (z**4)
    resources:
      requests:
        cpu: 1
      gpu: 1
